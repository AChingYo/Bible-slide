<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<title>線上和合本</title>

		<link rel="stylesheet" href="reveal.js-master/dist/reset.css">
		<link rel="stylesheet" href="reveal.js-master/dist/reveal.css">
		<link rel="stylesheet" href="reveal.js-master/dist/theme/black.css">

		<!-- Theme used for syntax highlighted code -->
		<link rel="stylesheet" href="reveal.js-master/plugin/highlight/monokai.css">
	</head>
	<body>
		<div class="reveal">
			<div class="slides">
				<section><h1>聖經 和合本</h1></section>
			</div>
		</div>

		<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
		<script>
			$(document).ready(function() {
				console.log( "ready!" );
			});
		</script>
		<script src="reveal.js-master/dist/reveal.js"></script>
		<script src="reveal.js-master/plugin/notes/notes.js"></script>
		<script src="reveal.js-master/plugin/markdown/markdown.js"></script>
		<script src="reveal.js-master/plugin/highlight/highlight.js"></script>
		<script>
			slideInit(revealInit);
			function slideInit(callback) {
				$.getJSON( "https://achingyo.github.io/Bible-slide/Bible_v1_2.json" , function( result ){
					for(var i=0;i<result.length;++i) {
						var content =
							"<section>" +
								"<section data-auto-animate id=\"" + result[i]["name"] + "\">" +
									"<h2>" +
										result[i]["name"] +
									"</h2>" +
									"<h4 style=\"color: rgb(100, 100, 100);\";>" +
										result[i]["content"][0][0]["content"] +
									"</h4>" +
								"</section>" +
							"</section>";
						for(var j=0;j<result[i]["content"].length;++j) {
							content +=
							"<section>" +
								"<section data-auto-animate id=\"" + result[i]["name"] + "-" + result[i]["content"][j][0]["chapter"].toString() +  "\">" +
									"<h2>" +
										"第" + result[i]["content"][j][0]["chapter"].toString() + "章" +
									"</h2>" +
									"<h4 style=\"color: rgb(100, 100, 100);\";>" +
										result[i]["content"][j][0]["book_zip"] +
										result[i]["content"][j][0]["chapter"] + ":" +
										result[i]["content"][j][0]["section"] + " " +
										result[i]["content"][j][0]["content"] +
									"</h4>" +
								"</section>";
							for(var k=0;k<result[i]["content"][j].length;++k) {
								content +=
								"<section data-auto-animate id=\"" + result[i]["name"] + "-" + result[i]["content"][j][k]["chapter"].toString() + "-" + result[i]["content"][j][k]["section"].toString() +  "\">" +
									"<h3>" +
										result[i]["content"][j][k]["book_zip"] +
										result[i]["content"][j][k]["chapter"] + ":" +
										result[i]["content"][j][k]["section"] + " " +
										result[i]["content"][j][k]["content"] +
									"</h3>";
								var max_length = 70-result[i]["content"][j][k]["content"].length;
								var tmp = k+1;
								var bright = 200;
								while (max_length > 0 && tmp < result[i]["content"][j].length) {
									content +=
									"<h3 style=\"color: rgb(" +
											bright.toString() + ", " +
											bright.toString() + ", " +
											bright.toString() + ");\";>" +
										result[i]["content"][j][tmp]["book_zip"] +
										result[i]["content"][j][tmp]["chapter"] + ":" +
										result[i]["content"][j][tmp]["section"] + " " +
										result[i]["content"][j][tmp]["content"] +
									"</h3>";
									max_length -= result[i]["content"][j][tmp]["content"].length;
									++tmp;
									bright = bright/2;
								}
								content +=
								"</section>";
							}
							content +=
							"</section>";
						}
						$($(".slides")[0]).append(content);
					}
					callback();
				});
			}
			function revealInit() {
				Reveal.initialize({
					hash: true,
					// Learn about plugins: https://revealjs.com/plugins/
					plugins: [ RevealMarkdown, RevealHighlight, RevealNotes]
				})
			}
		</script>
	</body>
</html>
